<div class="row">
  <div class="col-8 offset-1">
    <div *ngFor="let deal of displayedDeals;let i = index" class="row"
         [ngClass]="{'lastItemMargin':isItLastItem(deal)}"
         @dealState
         (@dealState.done)="onDealAnimated($event,i,likeContainer,commentContainer)"
         style="max-height: 250px;min-height: 250px;border-radius: 30px;background-color: white;padding-top: 1%;padding-bottom: 1%;align-items: center;justify-content: center;margin-bottom: 2%">
      <div class="col-3" style="text-align: center">
        <img src="http://benimfirsatim.cleverapps.io{{deal.image_url}}" style="max-width: 200px;max-height: 200px">
      </div>
      <div class="col-9">
        <div class="row title">
          <span (click)="goToDeal(deal.id)" style="font-family: 'Mark Pro-Heavy';font-size: 20px;color:#234491">{{deal.title.slice(0,200).concat('..')}}</span>
        </div>
        <div class="row" style="padding-top: 1%">
          <span style="font-family: 'Mark Pro-Medium';font-size: 14px;color:#234491">{{deal.details.slice(0,200).concat('..')}}</span>
        </div>
        <div class="row" style="align-items: flex-end;flex-wrap: nowrap;padding-top: 1%">
          <div class="col-2">
            <div class="row" style="align-items: center;flex-wrap: nowrap;">
              <div class="col-3 nopadding">
                <img src="../../assets/svgs/price_tag.svg" style="width: 150%">
              </div>
              <div class="col nopadding" style="margin-left: 15%">
                <span style="font-family: 'Mark Pro-Heavy';font-size: 20px;color: #234491;">{{whatIsPrice(deal)}}</span>
              </div>
            </div>
          </div>
          <div class="col-1">
            <div class="row" style="flex-wrap: nowrap;align-items: flex-end">
              <div class="col-12 nopadding">
                <div  #likeContainer class="lottieLikeButton" (click)="playAnim(i,'like')"></div>
                <span class="likeComment-span">{{deal.votes_sum}}</span>
              </div>
            </div>
          </div>
          <div class="col-1">
            <div class="row" style="flex-wrap: nowrap;align-items: flex-end">
              <div class="col-12 nopadding">
                <div #commentContainer class="lottieCommentButton" (mouseenter)="playAnim(i,'comment')" (mouseleave)="stopAnim(i)"></div>
                <span class="likeComment-span">{{deal.comments_count}}</span>
              </div>
            </div>
          </div>
          <div class="col offset-1" style="text-overflow: ellipsis;overflow: hidden;">
            <span style="font-family: 'Mark Pro-Italic';font-size: 20px;color:#234491;">{{deal.vendor.website}}</span>
          </div>
        </div>
        <div class="row" style="align-items: flex-end">
          <div class="col-8">
            <div class="row" style="align-items: center;flex-wrap: nowrap">
              <div class="col-1" style="padding: 0px">
                <img src="{{deal.user.avatar_url}}" style="width: 80%;border-radius: 50%">
              </div>
              <div class="col-2" style="padding-left: 0px">
                <span style="font-family: 'Mark Pro-Heavy';font-size: 14px;color:#234491;white-space: nowrap">{{deal.user.name}}</span>
              </div>
              <div class="col-4" style="text-overflow: ellipsis;overflow: hidden;">
                <span style="font-family: 'Mark Pro-Book';font-size: 14px;color:#234491;text-overflow: ellipsis;overflow: hidden;white-space: nowrap">{{deal.view_count}} görüntülenme</span>
              </div>
              <div class="col">
                <span style="font-family: 'Mark Pro-Book';font-size: 14px;color:#234491">{{deal.created_at.substr(0,10)}}</span>
              </div>
            </div>
          </div>
          <div class="col">
            <div class="row" style="align-items: center">
              <div class="col" style="padding: 1px">
                <img src="../../assets/imgs/FB-Icon@2x.png" style="width: 100%">
              </div>
              <div class="col" style="padding: 1px">
                <img src="../../assets/imgs/TW-Icon@2x.png" style="width: 100%">
              </div>
              <div class="col-9 cursor-pointer">
                <img (click)="goToLink(deal.link)" src="../../assets/imgs/firsata_git_button@2x.png" style="width: 100%">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-2" *ngIf="showPointTable">
    <app-point-table></app-point-table>
  </div>

</div>


