<div *ngFor="let deal of displayedDeals;let i = index" class="row"
     [ngClass]="{'lastItemMargin':isItLastItem(deal)}"
     @dealState
     (@dealState.done)="onDealAnimated($event,i)"
     style="height: 230px;border-radius: 30px;background-color: white;padding-top: 1%;padding-bottom: 1%;align-items: center;justify-content: center;margin-top: 2%">
  <div class="col-3" style="text-align: center">
    <img src="https://benimfirsatim.com{{deal.image_url}}" style="max-width: 110px">
  </div>
  <div class="col-9">
    <div class="row">
      <span style="font-family: 'Mark Pro-Heavy';font-size: 20px;color:#234491">{{deal.title}}</span>
    </div>
    <div class="row" style="padding-top: 1%">
      <span style="font-family: 'Mark Pro-Medium';font-size: 14px;color:#234491">{{deal.details.slice(0,200).concat('..')}}</span>
    </div>
    <div class="row" style="align-items: baseline;flex-wrap: nowrap;padding-top: 1%">
      <div class="col-2">
        <div class="row" style="align-items: center;flex-wrap: nowrap;">
          <div class="col-3 nopadding">
            <img src="../../assets/imgs/price_tag@2x.png" style="width: 150%">
          </div>
          <div class="col nopadding" style="margin-left: 15%">
            <span style="font-family: 'Mark Pro-Heavy';font-size: 20px;color: #234491;">{{deal.price}}₺</span>
          </div>
        </div>
      </div>
      <div class="col-1">
        <div class="row" style="flex-wrap: nowrap;align-items: baseline">
          <div class="col-5 nopadding">
            <img src="../../assets/imgs/like_button@2x_22pt_mark_heavy.png" style="width: 250%">
          </div>
          <div class="col nopadding" style="margin-left:20%">
            <span style="font-family: 'Mark Pro-Heavy';font-size: 12px;color:#234491">{{deal.votes_sum}}</span>
          </div>
        </div>
      </div>
      <div class="col-1">
        <div class="row" style="flex-wrap: nowrap;align-items: baseline">
          <div class="col-5 offset-1 nopadding">
            <img src="../../assets/imgs/comment_button@2x.png" style="
            width: 250%">
          </div>
          <div class="col  nopadding" style="margin-left: 20%">
            <span style="font-family: 'Mark Pro-Heavy';font-size: 12px;color:#234491">{{deal.comments_count}}</span>
          </div>
        </div>
      </div>
      <div class="col offset-1" style="text-overflow: ellipsis;overflow: hidden;">
        <span style="font-family: 'Mark Pro-Italic';font-size: 20px;color:#234491;">{{deal.vendor.website}}</span>
      </div>
    </div>
    <div class="row" style="align-items: flex-end">
      <div class="col-8">
        <div class="row" style="align-items: center;flex-wrap: nowrap">
          <div class="col-1" style="padding: 0px;align-self: flex-end">
            <img src="{{deal.user.avatar_url}}" style="width: 80%;border-radius: 50%">
          </div>
          <div class="col" style=";align-self: flex-end">
            <span style="font-family: 'Mark Pro-Heavy';font-size: 20px;color:#234491;white-space: nowrap">{{deal.user.name}}</span>
          </div>
          <div class="col" style=";align-self: flex-end;text-overflow: ellipsis;overflow: hidden;">
            <span style="font-family: 'Mark Pro-Book';font-size: 14px;color:#234491;text-overflow: ellipsis;overflow: hidden;">{{deal.user.score}} görüntülenme</span>
          </div>
          <div class="col" style=";align-self: flex-end">
            <span style="font-family: 'Mark Pro-Book';font-size: 14px;color:#234491">{{deal.created_at.substr(0,10)}}</span>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="row" style="align-items: center">
          <div class="col" style="padding: 1px">
            <img src="../../assets/imgs/FB-Icon@2x.png" style="width: 100%">
          </div>
          <div class="col" style="padding: 1px">
            <img src="../../assets/imgs/TW-Icon@2x.png" style="width: 100%">
          </div>
          <div class="col-9">
            <img src="../../assets/imgs/firsata_git_button@2x.png" style="width: 100%">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

